[general]
static = yes
writeprotect = yes
autofallthrough = yes
clearglobalvars = no

[globals]
TIMERING=30

[macro-toca-audio]
exten => s,1,Playback(${ARG1})

[ura]
exten => 60,1,Answer()
; same =>    n,Set(TIMEOUT(absolute)=8)
 same =>    n,Background(1-for-am-2-for-pm)
 same =>    n,WaitExten(4)

;Digito 1
exten => 1,1,Macro(toca-audio,good-morning&thank-you-for-calling)
 same =>   n,Hangup()

;Digito 2
exten => 2,1,Macro(toca-audio,good-afternoon&thank-you-for-calling)
 same =>   n,Hangup()

;Digito invalido
exten => i,1,Macro(toca-audio,invalid)
 same =>   n,Goto(ura,60,3)

;Timeout
exten => t,1,Noop(Timeout na chamada)
 same =>   n,Hangup()

;Timeout absoluto
exten => T,1,Noop(Timeout absoluto)
 same =>   n,Hangup()


;Desligamento
exten => h,1,Noop(Chamada desligada)

[interno]
include => ura
#include comandos.conf

;Set e leitura de variaveis
exten => 100,1,Answer()
 same =>     n,Set(NOME=Udemy)
 same =>     n,Noop(O valor do nome e ${NOME})
 same =>     n,Hangup()

;Heranca
exten => 101,1,Set(VAR1=valor1)
exten => 101,2,Set(_VAR2=valor2)
exten => 101,3,Set(__VAR3=valor3)
exten => 101,4,Dial(Local/102@interno)

exten => 102,1,NoOp(${VAR1})
exten => 102,2,NoOp(${VAR2})
exten => 102,3,NoOp(${VAR3})
exten => 102,4,Dial(Local/103@interno)

exten => 103,1,NoOp(${VAR1})
exten => 103,2,NoOp(${VAR2})
exten => 103,3,NoOp(${VAR3})
